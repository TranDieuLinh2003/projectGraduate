<!doctype html>
<html lang="en" xmlns:th="http://www.springframework.org/schema/data/jaxb">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Quản lí khuyến mãi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
            integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" th:href="@{/admin/css/index.css}">
    <link
            href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
            rel="stylesheet"
    />
    <link
            rel="shortcut icon"
            type="image/png"
            th:href="@{/admin/assets/imgLogo/logo.png}"
    />
    <link rel="stylesheet" th:href="@{/admin/css/movie.css}">
    <link rel="stylesheet" th:href="@{/admin/css/customer.css}">
    <link rel="stylesheet" th:href="@{/admin/css/home.css}">
    <link rel="stylesheet" th:href="@{/admin/css/promotion.css}">
    <link rel="stylesheet" th:href="@{/admin/css/room.css}">
    <link rel="stylesheet" th:href="@{/admin/css/schedule.css}">
    <link rel="stylesheet" th:href="@{/admin/css/seat.css}">
    <link rel="stylesheet" th:href="@{/admin/css/seat-manager.css}">
    <link rel="stylesheet" th:href="@{/admin/css/modal.css}">
    <link rel="stylesheet" th:href="@{/admin/css/phan-trang.css}">
    <link rel="stylesheet" th:href="@{/admin/css/bill.css}">
    <link rel="stylesheet" th:href="@{/admin/css/calendar.css}">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.9.0/sweetalert2.min.css"
          integrity="sha512-IScV5kvJo+TIPbxENerxZcEpu9VrLUGh1qYWv6Z9aylhxWE4k4Fch3CHl0IYYmN+jrnWQBPlpoTVoWfSMakoKA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700&display=swap" rel="stylesheet">
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.css"
    />
</head>
<body>
<div th:replace="~{/layout/header-admin :: header}"></div>
<div id="loading-overlay">
    <div class="spinner"></div>
</div>
<section class="promotion-html">
    <div th:replace="~{/layout/header-admin :: header}"></div>
    <div class="container">
        <label>Phòng chiếu</label>
        <select class="form-select" aria-label="Default select example" name="roomName"
                id="roomName">
            <option th:each="room : ${listRoom}" th:value="${room.id}"
                    th:text="${room.name}">
            </option>
        </select>
        <br>
        <div class="calendar">
            <div class="header">
                <div class="mouth"></div>
                <div class="btns">
                    <div class="btn today-btn">
                        <i class="fas fa-calendar-day"></i>
                    </div>
                    <div class="btn prev-btn">
                        <i class="fas fa-chevron-left"></i>
                    </div>
                    <div class="btn next-btn">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>
            <div class="weekdays">
                <div class="day">Chủ nhật</div>
                <div class="day">Thứ 2</div>
                <div class="day">Thứ 3</div>
                <div class="day">Thứ 4</div>
                <div class="day">Thứ 5</div>
                <div class="day">Thứ 6</div>
                <div class="day">Thứ 7</div>
            </div>
            <div class="days">
                <!-- Prev mouth days -->
            </div>
        </div>
    </div>
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" >
                    <h1 class="modal-title fs-5" id="selectedDate" style="color: red"></h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="big-task-container">


                    </div>
                </div>
                <button type="submit" onclick="sendItemMapToServer()" class="btn btn-success" data-bs-dismiss="modal">
                    Xác nhận và tạo vé
                </button>
            </div>
        </div>
    </div>
</section>
<th:block th:each="schedule : ${listSchedule}">
    <div class="modal" th:attrappend="id='exampleModal_' + ${schedule.id}">
        <div class="modal-dialog">
            <div class="modal-content" style="height: 460px;margin-top: 100px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Chi tiết suất chiếu</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form class="row g-3" th:object="${schedule}" th:action="@{/schedule/update/{id}(id=${schedule.id})}"
                      method="post">
                    <div style="display: none" class="col-md-6">
                        <label class="form-label">Id</label>
                        <input type="text" class="form-control" id="id" name="id" th:value="${schedule.id}"
                               disabled
                               required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Mã suất chiếu</label>
                        <input type="text" class="form-control" id="code" name="code" th:value="${schedule.code}"
                               disabled required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Tên phim/Phòng chiếu/Rạp chiếu</label>
                        <input type="text" class="form-control" id="name" name="name" th:value="${schedule.name}"
                               disabled required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Giá </label>
                        <input type="number" class="form-control" name="price" th:value="${schedule.price}"
                               required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Thời gian bắt đầu</label>
                        <input type="datetime-local" class="form-control" name="startAt" th:value="${schedule.startAt}"
                               disabled required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Thời điểm kết thúc </label>
                        <input type="datetime-local" class="form-control" id="finishAt" name="finishAt"
                               th:value="${schedule.finishAt}"
                               disabled required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Trạng thái</label>
                        <select class="form-select" name="status" aria-label="Default select example">
                            <option value="Đang chiếu" th:selected="${schedule.status == 'Đang chiếu'}">Đang chiếu
                            </option>
                            <option value="Đã chiếu" th:selected="${schedule.status == 'Đã chiếu'}">Đã chiếu</option>
                            <option value="Sắp chiếu" th:selected="${schedule.status == 'Sắp chiếu'}">Sắp chiếu</option>
                            <option value="Hủy" th:selected="${schedule.status == 'Hủy'}">Hủy</option>
                        </select>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Thoát</button>
                        <button type="submit" class="btn btn-primary"
                                onclick="return confirm('Bạn muốn cập nhật lại lịch chiếu !')">Sửa
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</th:block>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.js"></script>
<script th:src="@{/admin/js/index.js}"></script>
<script th:src="@{/admin/js/pagination.js}"></script>
<script th:src="@{/admin/js/calendar.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
<script
        type="module"
        src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
></script>

</body>
</html>